{% extends 'base.html' %}

{% block page_title %} 

    <h2>검색</h2>
{% endblock page_title %} 

    {% block search-bar %}

  {% endblock search-bar  %}


{% block content %}

<h2> 검색하였습니다! </h2>

<form method="get" action="{% url "rooms:search" %}">
    <div>
    <label for="city">City</label>
    <input value="{{city}}" id="city" name="city" placeholder = "도시를 검색해보세요"/>
    </div>
   <div>
   <label for="country">국가선택</label>
   <select id="country" name="country">
   {% for country  in countries  %}
        <option value="{{country.code}}"{% if country.code == s_country  %}selected{% endif %}>
         {{country.name}}</option>
   {% endfor %}
   </select>
   </div>

   <div>
        <label for="room_type">객실타입</label>
        <select id="room_type" name="room_type">
        <option value="0"{% if s_room_type == 0 %}selected{% endif %}>AnyWhere</option>
        {% for room_type  in room_types  %}
           <option value="{{room_type.pk}}" {% if s_room_type == room_type.pk  %}selected{% endif %}> {{room_type.name}} </option>
        {% endfor %}
   </select>
   </div>

   <div>
        <label for="price">가격</label>
        <input value="{{price}}" type="number" name="price" id="price" placeholder="가격">
   </div>

   <div>
        <label for="guests">게스트</label>
        <input value="{{guests}}" type="number" name="guests" id="guests" placeholder="게스트">
   </div>

   <div>
        <label for="bedrooms">침실</label>
        <input value="{{bedrooms}}" type="number" name="bedrooms" id="bedrooms" placeholder="침실">
   </div>
  
   <div>
        <label for="beds">침대</label>
        <input value="{{beds}}" type="number" name="beds" id="beds" placeholder="침대">
   </div>
   
   <div>
        <label for="baths">화장실</label>
        <input value="{{baths}}" type="number" name="baths" id="baths" placeholder="화장실">
   </div>

   <div>
        <label for="instant">instant Book Only ?</label>
        <input type="checkbox" name="instant" id="instant"
        {% if instant  %}
            checked
        {% endif %}/>
   </div>

   <div>
        <label for="super_host">SuperHost</label>
        <input type="checkbox" name="super_host" id="super_host"
          {% if super_host  %}
            checked
        {% endif %}/>
   </div>



   <div>
    <h3>편의시설</h3>
      <ul>
        {% for amenity in amenities  %}
        <li>
            <label for="a_{{amenity.pk}}">{{amenity.name}} </label>
            <input 
            id="a_{{amenity.pk}}" 
            name="amenities" 
            type="checkbox" 
            value={{amenity.pk}}
            {% if amenity.pk|slugify in s_amenities  %}
                checked
            {% endif %}
            />
        </li>
        {% endfor %}
      </ul>
   </div>

    <h3>시설</h3>
      <ul>
        {% for facility in facilities  %}
        <li>
            <label for="f_{{facility.pk}}">{{facility.name}}</label>
            <input 
            id="f_{{facility.pk}}" 
            name="facilities" 
            type="checkbox" 
            value = {{facility.pk}}
            {% if facility.pk|slugify in s_facilities  %}
                checked
            {% endif %}
            />
        </li>
        {% endfor %}
      </ul>
   </div>
  
   <button>검색하기</button> 
</form>

<h3>검색결과</h3>

{% for room in rooms  %}
     <h3>{{room.name}}</h3>
{% endfor %}
   
{% endblock  %}